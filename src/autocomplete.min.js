function autocomplete(e,t){var n;function i(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("active")}function s(t){for(var n=document.getElementsByClassName("autocomplete-items"),i=0;i<n.length;i++)t!=n[i]&&t!=e&&n[i].parentNode.removeChild(n[i])}document.getElementById("autocomplete").classList.add("list-group","position-relative","d-print-inline-block"),e.addEventListener("input",function(e){var i,a,o,d=this.value;if(s(),!d)return!1;for(n=-1,(i=document.createElement("DIV")).setAttribute("class","autocomplete-items"),i.classList.add("position-absolute","mt-2","w-100","rounded","shadow-sm"),i.style.top="100%",i.style.zIndex=99,this.parentNode.appendChild(i),o=0;o<t.length;o++)t[o].substr(0,d.length).toUpperCase()==d.toUpperCase()&&((a=document.createElement("LI")).classList.add("list-group-item"),a.innerHTML="<strong>"+t[o].substr(0,d.length)+"</strong>",a.innerHTML+=t[o].substr(d.length),a.innerHTML+='<input type="hidden" value="'+t[o]+'">',a.addEventListener("click",function(e){app.item=this.getElementsByTagName("input")[0].value,s()}),i.appendChild(a))}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id);t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(n++,i(t)):38==e.keyCode?(n--,i(t)):13==e.keyCode&&(e.preventDefault(),n>-1&&t&&t[n].click())}),document.addEventListener("click",function(e){s(e.target)})}
